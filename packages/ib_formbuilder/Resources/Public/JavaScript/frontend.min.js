jQuery(document).ready(function(){var fbRenderer,assetBasePath;"undefined"!=typeof myFormData&&(fbRenderer=$("#fb-render"),assetBasePath=jQuery(fbRenderer).data("assetbasepath"),$(fbRenderer).formRender({formData:myFormData,dataType:"json",render:!0,i18n:{locale:"de-DE",location:assetBasePath+"JavaScript/"}}),myFormRenderer=jQuery(fbRenderer).myFormBuilderRenderer({ajaxSubmitUrl:formSubmitUri}),jQuery("div.tx_ibformbuilder-show-frontend-form form button[type=submit]").length?(assetBasePath=jQuery("body").data("cblanguage"),fbRenderer='\x3c!-- friendly captcha start --\x3e                    <div class="row columns" id="ib-recaptcha-container">                        <p>'+contactform_dataPrivacyLink+' </p>                        <div id="formBuilderFC" class="" data-callback="fcCallback" data-lang="'+assetBasePath+'" data-puzzle-endpoint="https://eu-api.friendlycaptcha.eu/api/v1/puzzle" data-sitekey="FCMKN6E68LK32MRG">                        </div>                        <span class="form-error">'+contactform_recaptcha_error+"</span>                    </div>                \x3c!-- friendly captcha end --\x3e\n",jQuery(fbRenderer).insertBefore("div.tx_ibformbuilder-show-frontend-form form button[type=submit]"),assetBasePath=document.querySelector("#formBuilderFC"),new friendlyChallenge.WidgetInstance(assetBasePath,{})):alert("Dieses Formular ben√∂tigt einen Submit-Button"))});var myFormRenderer,fcSolved=!1;function fcCallback(solution){$("#ib-recaptcha-container .frc-container").hasClass("frc-success")&&(fcSolved=!0)}!function($){var defaults={captchaSuccess:!1,grecaptcha:null,ajaxSubmitUrl:""};$.fn.myFormBuilderRenderer=function(options){return $.extend(defaults,options),this.generalSetup(),this.manageRadioButtons(),this.handleFormSubmit(),this},$.fn.parseLocalValue=function(valueArray,activeValue){var resultArray=[],showItems=[],hideItems=[],valueArray=valueArray.split(";");return jQuery(valueArray).each(function(key,value){((value=value.split("#"))[0]===activeValue?showItems:hideItems).push("div.field-"+value[1])}),resultArray.show=showItems,resultArray.hide=hideItems,resultArray},$.fn.generalSetup=function(){var formContainer=jQuery("form#tx_ibformbuilder_contactform");jQuery(formContainer).find("button[type=submit]").addClass("button")},$.fn.manageRadioButtons=function(){var that=this,radios=jQuery(this).find("div.radio-group div.radio input");jQuery(radios).each(function(key,value){jQuery(value).removeAttr("checked"),void 0!==(value=jQuery(value).data("local-value"))&&(value=that.parseLocalValue(value,""),jQuery(value.hide).each(function(key,value){jQuery(value).hide()}))}),jQuery(radios).click(function(e){var e=e.currentTarget,myData=jQuery(e).data("local-value");void 0!==myData&&(e=jQuery(e).val(),myData=that.parseLocalValue(myData,e),jQuery(myData.hide).each(function(key,value){jQuery(value).find("input").prop("checked",!1),jQuery(value).hide()}),jQuery(myData.show).each(function(key,value){jQuery(value).show()}))})},$.fn.showCaptchaError=function(show){var contactForm=jQuery("#tx_ibformbuilder_contactform");show?jQuery(contactForm).find("div.captcha_error").show():jQuery(contactForm).find("div.captcha_error").hide()},$.fn.handleFormSubmit=function(){var that=this,loader=jQuery("div.loader-container"),general_error_message=jQuery("div.general_error_message"),submitButton=jQuery("form#tx_ibformbuilder_contactform button[type=submit]");jQuery(submitButton).click(function(e){e.preventDefault();for(var contactForm=jQuery("#tx_ibformbuilder_contactform"),serializedArrayFormData=(jQuery(contactForm).find("div.checkbox-group").each(function(key,value){jQuery(value).find("input[type=checkbox]").each(function(key2,value2){var elementId=jQuery(value2).attr("id");jQuery(value2).attr("name"),jQuery("#"+elementId).attr("name",elementId)})}),jQuery(contactForm).serializeArray()),i=0;i<serializedArrayFormData.length;i++)serializedArrayFormData[i].name="tx_ibformbuilder_showform[formdata]["+serializedArrayFormData[i].name+"]";fcSolved?(jQuery(submitButton).hide(),jQuery(loader).show(),jQuery(general_error_message).hide(),e=jQuery.param(serializedArrayFormData),jQuery.ajax({url:defaults.ajaxSubmitUrl,type:"POST",data:e,dataType:"json",success:function(response){that.showCaptchaError(!1),jQuery(contactForm).find(".error").removeClass("error"),!0===response.success?(jQuery("div.tx_ibformbuilder-show-frontend-form").hide(),jQuery("div.tx_ibformbuilder-show-frontend-form-success").show(),"function"==typeof formBuilderSuccessCallback&&formBuilderSuccessCallback(submitButton),!1===response.mail_send_success&&jQuery("#tx_formbuilder_mailsend_error").show()):(jQuery(general_error_message).show(),jQuery.each(response.errors,function(index,value){jQuery(contactForm).find("#"+index+',label[for="'+index+'"]').addClass("error"),"captcha"===index&&that.showCaptchaError(!0)})),jQuery(submitButton).show(),jQuery(loader).hide()},error:function(error){}})):$("#ib-recaptcha-container .form-error").fadeIn(100).fadeOut(5e3)})}}(jQuery);